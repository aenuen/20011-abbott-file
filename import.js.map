{"version":3,"file":"import.js","sources":["src/FFHandle/dataToFile.ts","src/FFHandle/deleteFile.ts","src/FFHandle/deleteFolder.ts","src/FFHandle/fileParse.ts","src/FFHandle/getStats.ts","src/FFHandle/isExists.ts","src/FFHandle/isFile.ts","src/FFHandle/isFolder.ts","src/FFHandle/readDownFile.ts","src/FFHandle/rename.ts"],"sourcesContent":["import fs from 'fs'\r\n\r\n/**\r\n * @description 将数据保存成文件\r\n * @param {*} fData 文件数据\r\n * @param {string} fFile 文件路径\r\n * @returns {Promise<String>}\r\n */\r\nexport const dataToFile = (fData: any, fFile: string): Promise<string> => {\r\n  return new Promise((resolve, reject) => {\r\n    fs.writeFile(fFile, fData, (err) => {\r\n      err ? reject('') : resolve(fFile)\r\n    })\r\n  })\r\n}\r\n","import fs from 'fs'\r\n\r\n/**\r\n * @description 删除文件\r\n * @param {string} fFile 文件路径\r\n * @returns {Promise<Boolean>}\r\n */\r\nexport const deleteFile = (fFile: string): Promise<boolean> => {\r\n  return new Promise((resolve, reject) => {\r\n    if (fFile) {\r\n      if (fs.existsSync(fFile)) {\r\n        fs.unlink(fFile, (err) => {\r\n          err ? reject(false) : resolve(true)\r\n        })\r\n      } else {\r\n        resolve(true)\r\n      }\r\n    }\r\n  })\r\n}\r\n","import fs from 'fs'\r\n\r\n/**\r\n * @description 删除文件夹\r\n * @param {string} fFolder 文件夹路径\r\n * @returns {Promise<Boolean>}\r\n */\r\nexport const deleteFolder = (fFolder: string): Promise<boolean> => {\r\n  return new Promise((resolve, reject) => {\r\n    if (fs.existsSync(fFolder)) {\r\n      fs.rmdir(fFolder, {recursive: true}, (err) => {\r\n          err ? reject(false) : resolve(true)\r\n        }\r\n      )\r\n    } else {\r\n      resolve(true)\r\n    }\r\n  })\r\n}\r\n","import fs from 'fs'\r\n\r\nexport class FileParse {\r\n  // 定义变量\r\n  private suffix!: string;\r\n  private path!: string;\r\n  private filePath!: string;\r\n  private newFile!: string;\r\n  private originalName!: string;\r\n\r\n  // 预先处理\r\n  constructor(aFile: any) {\r\n    this.parseFile(aFile)\r\n  }\r\n\r\n  // 解析文件\r\n  parseFile(file: Record<string | number | symbol, any>) {\r\n    // noinspection SpellCheckingInspection\r\n    const {destination: des, filename = '', originalname: originalName, path = ''} = file\r\n    const suffix = originalName.split('.')[1] || ''\r\n    this.suffix = suffix\r\n    this.path = path\r\n    this.filePath = `${des}${filename}.${suffix}`\r\n    this.newFile = `${filename}.${suffix}`\r\n    this.originalName = originalName\r\n  }\r\n\r\n  // 解析\r\n  parse() {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (this.suffix) {\r\n        if (fs.existsSync(this.path) && !fs.existsSync(this.filePath)) {\r\n          fs.renameSync(this.path, this.filePath)\r\n        }\r\n        resolve(this)\r\n      } else {\r\n        reject(new Error('上文件的后缀名无效'))\r\n      }\r\n    })\r\n  }\r\n}\r\n","import fs from 'fs'\r\n\r\n/**\r\n * @description 获取目录或文件的系统明细\r\n * @param {string} fOrFPath 文件（夹）路径\r\n * @returns {Promise<Record<string | number | symbol, any>>}\r\n */\r\nexport const getStats = (fOrFPath: string): Promise<Record<string | number | symbol, any>> => {\r\n  return new Promise((resolve, reject) => {\r\n    fs.stat(fOrFPath, (err, stats) => {\r\n      err ? reject({}) : resolve(stats)\r\n    })\r\n  })\r\n}\r\n","import fs from \"fs\";\r\n\r\n/**\r\n * @description 文件或文件夹是否存在\r\n * @param fOrFPath 文件（夹）路径\r\n * @returns {Promise<Boolean>}\r\n */\r\nexport const isExists = (fOrFPath: string): Promise<boolean> => {\r\n  return new Promise((resolve, reject) => {\r\n    const result = fs.existsSync(fOrFPath)\r\n    result ? resolve(true) : reject(false)\r\n  })\r\n}\r\n","import fs from 'fs'\r\n\r\n/**\r\n * @description 是否文件\r\n * @param {String} fFile 文件路径\r\n * @returns {Promise<Boolean>}\r\n */\r\nexport const isFile = (fFile: string): Promise<boolean> => {\r\n  return new Promise((resolve, reject) => {\r\n    fs.stat(fFile, (err, stats) => {\r\n      err ? reject(false) : stats.isFile() ? resolve(true) : reject(false)\r\n    })\r\n  })\r\n}\r\n","import fs from 'fs'\r\n\r\n/**\r\n * @description 是否文件夹\r\n * @param {String} fFolder 文件夹路径\r\n * @return {Promise<Boolean>}\r\n */\r\nexport const isFolder = (fFolder: string): Promise<boolean> => {\r\n  return new Promise((resolve, reject) => {\r\n    fs.stat(fFolder, (err, stats) => {\r\n      err ? reject(false) : stats.isDirectory() ? resolve(true) : reject(false)\r\n    })\r\n  })\r\n}\r\n","import fs from 'fs'\r\n\r\n/**\r\n * @description 目录下所有的文件(不包含文件夹)\r\n * @param {string} folder 文件夹路径\r\n * @returns {Promise<Array>}\r\n */\r\nexport const readDownFile = (folder: string): Promise<Array<any>> => {\r\n  return new Promise((resolve, reject) => {\r\n    fs.readdir(folder, (err, files) => {\r\n      err ? reject([]) : resolve(files)\r\n    })\r\n  })\r\n}\r\n","import fs from 'fs'\r\n\r\n/**\r\n * @description 重命名（移动）文件（夹）\r\n * @param {string} fOld 原文件（夹）路径\r\n * @param {string} fNew 新文件（夹）路径\r\n * @return {Promise<Boolean>}\r\n */\r\nexport const rename = (fOld: string, fNew: string): Promise<boolean> => {\r\n  return new Promise((resolve, reject) => {\r\n    fs.rename(fOld, fNew, (err) => {\r\n      err ? reject(false) : resolve(true)\r\n    })\r\n  })\r\n}\r\n"],"names":[],"mappings":"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"}